# ÐÐ²Ñ‚Ð¾-Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½ Ñ‡ÐµÐºÐ¾Ð² Ð¸Ð· `Ð®Kassa` Ð² `ÐœÐ¾Ð¹ ÐÐ°Ð»Ð¾Ð³` Ð´Ð»Ñ ÑÐ°Ð¼Ð¾Ð·Ð°Ð½ÑÑ‚Ñ‹Ñ… (ÐÐŸÐ”)

> **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ** Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹ Ð¸Ð· Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚Ð° Ð®Kassa Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ "ÐœÐ¾Ð¹ ÐÐ°Ð»Ð¾Ð³"

Ð”Ð°Ð½Ð½Ñ‹Ð¹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð±Ñ‹Ð» ÑÐ¾Ð·Ð´Ð°Ð½ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð² ÑÐ²ÑÐ·Ð¸ Ñ Ñ‚ÐµÐ¼, Ñ‡Ñ‚Ð¾ **Ð®Kassa** Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð»Ð¸ ÑÐ²Ð¾Ð¹ ÑÐµÑ€Ð²Ð¸Ñ Ð°Ð²Ñ‚Ð¾-Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ñ‡ÐµÐºÐ¾Ð² Ð² "ÐœÐ¾Ð¹ ÐÐ°Ð»Ð¾Ð³"

---

## ðŸš€ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
- âœ… Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÑŽ (Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· .env)
- âœ… Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ñ‹ Ð¿Ñ€Ð¸ ÑÐ±Ð¾ÑÑ… ÑÐµÑ‚Ð¸
- âœ… Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸
- âœ… ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

## ðŸ“‹ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Docker
- Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð®Kassa (Shop ID + API ÐºÐ»ÑŽÑ‡)
- Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÐœÐ¾Ð¹ ÐÐ°Ð»Ð¾Ð³ (Ð»Ð¾Ð³Ð¸Ð½ + Ð¿Ð°Ñ€Ð¾Ð»ÑŒ)

---

## ðŸ”§ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### 1. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Docker
```bash
sudo curl -fsSL https://get.docker.com | sh
```

### 2. Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ð°Ð¿ÐºÑƒ `/opt/yookassa-to-mynalog` Ð¸ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² Ð½ÐµÐµ
```bash
mkdir /opt/yookassa-to-mynalog && cd /opt/yookassa-to-mynalog
```

### 3. Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹ `.env.example` (ÐµÐ³Ð¾ ÑÑ€Ð°Ð·Ñƒ Ñ€ÐµÐ½ÐµÐ¹Ð¼Ð¸Ð¼ Ð² `.env`) Ð¸ `docker-compose.yml`
```bash
wget -O .env https://raw.githubusercontent.com/grnfls709/yookassa-to-mynalog/refs/heads/master/.env.example && \
wget -O docker-compose.yml https://raw.githubusercontent.com/grnfls709/yookassa-to-mynalog/refs/heads/master/docker-compose.yml
```

### 4. Ð—Ð°Ð¿Ð¾Ð»Ð½ÑÐµÐ¼ Ñ„Ð°Ð¹Ð» `.env` Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ð¼Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ (ÑÐ¼ Ñ€Ð°Ð·Ð´ÐµÐ» "ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ")
```bash
nano .env
```

## âš™ï¸ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

### ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ

| ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|-----------|---------|
| `YOOKASSA_SHOP_ID` | ID Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð° Ð² Ð®Kassa |
| `YOOKASSA_API_KEY` | API ÐºÐ»ÑŽÑ‡ Ð®Kassa |
| `MOY_NALOG_LOGIN` | Ð˜ÐÐ Ð² ÐœÐ¾Ð¹ ÐÐ°Ð»Ð¾Ð³ |
| `MOY_NALOG_PASSWORD` | ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð² ÐœÐ¾Ð¹ ÐÐ°Ð»Ð¾Ð³ |

### ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ

| ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ | ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|-----------|:----------:|---------|
| `SYNC_START_DATE` | -24Ñ‡ | Ð”Ð°Ñ‚Ð° Ð½Ð°Ñ‡Ð°Ð»Ð° ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (YYYY-MM-DD) |
| `INCOME_DESCRIPTION_TEMPLATE` | `ÐŸÐ»Ð°Ñ‚ÐµÐ¶ #{description}` | Ð¨Ð°Ð±Ð»Ð¾Ð½ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ Ð´Ð¾Ñ…Ð¾Ð´Ð° |
| `CRON_SCHEDULE` | `0 */4 * * *` | Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ cron (ÐºÐ°Ð¶Ð´Ñ‹Ðµ 4 Ñ‡Ð°ÑÐ°) |

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ CRON_SCHEDULE

```env
CRON_SCHEDULE='0 * * * *'        # ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ‡Ð°Ñ
CRON_SCHEDULE='0 */6 * * *'      # ÐºÐ°Ð¶Ð´Ñ‹Ðµ 6 Ñ‡Ð°ÑÐ¾Ð²
CRON_SCHEDULE='0 12 * * *'       # Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð· Ð² Ð´ÐµÐ½ÑŒ Ð² 12:00
CRON_SCHEDULE='*/30 * * * *'     # ÐºÐ°Ð¶Ð´Ñ‹Ðµ 30 Ð¼Ð¸Ð½ÑƒÑ‚
CRON_SCHEDULE='0 0 * * 0'        # Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð· Ð² Ð½ÐµÐ´ÐµÐ»ÑŽ Ð² Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ
```

**Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ cron:** `Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹ Ñ‡Ð°ÑÑ‹ Ð´Ð½Ð¸_Ð¼ÐµÑÑÑ†Ð° Ð¼ÐµÑÑÑ†Ñ‹ Ð´Ð½Ð¸_Ð½ÐµÐ´ÐµÐ»Ð¸`

## ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº

### ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐº
```bash
cd /opt/yookassa-to-mynalog && docker compose up -d
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð»Ð¾Ð³Ð¾Ð²
```bash
cd /opt/yookassa-to-mynalog && docker compose logs -f -t
```

### ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
```bash
cd /opt/yookassa-to-mynalog && docker compose down
```

### ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°
```bash
cd /opt/yookassa-to-mynalog && docker compose down && docker compose up -d
```

---

## ðŸ“Š Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð»Ð¾Ð³Ð¾Ð²

```
2026-01-21 12:00:00,123 - INFO - ÐÐ°Ñ‡Ð°Ð»Ð¾ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸...
2026-01-21 12:00:01,456 - INFO - âœ“ Ð£ÑÐ¿ÐµÑˆÐ½Ð°Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð² ÐœÐ¾Ð¹ ÐÐ°Ð»Ð¾Ð³.
2026-01-21 12:00:02,789 - INFO - âœ“ ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ Ð½Ð¾Ð²Ñ‹Ñ… Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹: 3
2026-01-21 12:00:03,012 - INFO - âœ“ Ð”Ð¾Ñ…Ð¾Ð´ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½: 500 Ñ€ÑƒÐ±. Ð·Ð° 'ÐŸÐ»Ð°Ñ‚ÐµÐ¶ #12345'
...
2026-01-21 12:00:05,000 - INFO - Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: ÑƒÑÐ¿ÐµÑˆÐ½Ð¾=3, Ð¾ÑˆÐ¸Ð±Ð¾Ðº=0
2026-01-21 12:00:05,001 - INFO - Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.
```

---

## ðŸ’¡ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐŸÐž

### 1. ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² Ð½Ð°ÑˆÑƒ Ð¿Ð°Ð¿ÐºÑƒ
```bash
cd /opt/yookassa-to-mynalog
```

### 2. ÐžÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€
```bash
docker compose down
```

### 3. Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·
```bash
docker compose pull
```

### 4. Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð¸ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð»Ð¾Ð³Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð½Ð¾Ð²Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸
```bash
docker compose up -d && docker compose logs -f -t
```

---

> **Ð¡Ñ‚Ð°Ð²ÑŒ â­** Ð¸ Ð½Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ñ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸
> USDT TRC20: TL6gHETnKqNWV4D6GjiKKahkBsAwcyWfo8

###### Telegram: [@grand_van](https://t.me/grand_van) âœˆ
